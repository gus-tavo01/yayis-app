(this["webpackJsonpyayis-app"]=this["webpackJsonpyayis-app"]||[]).push([[0],{311:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(31),r=n.n(i),o=n(58),s=n(14),l=n(35),j=n(36),d=n(3),u=n(53),b=n.n(u),h=n(82),O=n(252);n.n(O).a.create({baseURL:"apiUrl",headers:{"Content-Type":"application/json"}}).interceptors.response.use((function(e){return e.data}),(function(e){var t,n={errorMessage:e.toJSON().message},a=(null===(t=e.response)||void 0===t?void 0:t.data)||n;return console.log("# on axios error CB"),a}));var g,p={get:function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{id:"333ll",name:"Test",description:"Test description",todos:[]},{id:"444",name:"Cena",description:"Test description",todos:[]},{id:"555",name:"Comida",description:"Test description",todos:[]},{id:"666",name:"Desayuno",description:"Test description",todos:[]},{id:"777",name:"Postre",description:"Test description",todos:[]}]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=p,x={getLists:function(e){return f.get("/lists",{params:e})},postList:function(e){return f.post("/lists",e)}},m=Object(j.b)("lists/get",x.getLists),v=Object(j.c)({name:"lists",initialState:{loading:!0},extraReducers:Object(d.a)({},m.fulfilled,(function(e,t){e.items=t.payload,e.loading=!1}))}).reducer,y=Object(j.b)("configuration/set",function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(j.b)("configuration/fetchOptions",function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{themes:{docs:[{id:"123",name:"Dark green",type:"dark"},{id:"456",name:"Light blue",type:"light"}]},languages:{docs:[{id:"1",name:"English"},{id:"2",name:"Spanish"}]}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k={setConfiguration:y,fetchConfigOptions:C},T=n(24),I={id:"defaultId",name:"Amber and pink ;)",palette:{type:"light",primary:{main:T.a.amber[800]},secondary:{main:T.a.pink.A700}}},S={id:"defaultId",name:"English"},D={theme:I,language:S,themes:{items:[I,{id:"secondaryId",name:"Secondary theme",palette:{type:"light",primary:{main:T.a.lightBlue[400]},secondary:{main:T.a.grey.A700}}}],loading:!1},languages:{items:[S],loading:!1}},L=Object(j.c)({name:"configuration",initialState:D,reducers:{setLoading:function(e,t){e.loading=t.payload},setTheme:function(e,t){e.theme=t.payload}},extraReducers:(g={},Object(d.a)(g,k.setConfiguration.fulfilled,(function(e,t){t.payload.theme&&(e.theme=t.payload.theme),t.payload.language&&(e.language=t.payload.language),e.loading=!1,console.log("## reducer updating app state"),console.log(t.payload)})),Object(d.a)(g,k.fetchConfigOptions.fulfilled,(function(e,t){e.themes=t.payload.themes,e.languages=t.payload.languages,e.loading=!1})),g)}),w=(L.actions.setTheme,{configuration:L.reducer,lists:v}),E=Object(j.a)({reducer:w,devTools:!0}),z=n(267),A=n(363),F=n(1),M=function(e){var t=e.children,n=Object(l.c)((function(e){return e.configuration.theme})),a=Object(z.a)(n||{});return Object(F.jsx)(A.a,{theme:a,children:t})},N=n(350),B=n(13),R=n(364),U=n(366),H=n(315),J=n(358),P=n(367),W=n(268),$=n(355),G=n(344),Y=n(351),q=n(100),K=n.n(q),Q=n(260),V=n.n(Q),X=n(259),Z=n.n(X),_=n.p+"static/media/logo.6ce24c58.svg",ee=Object(Y.a)((function(){return{link:{textDecoration:"none",color:"inherit"}}})),te=function(){var e,t=ee(),n=Object(a.useState)(null),c=Object(B.a)(n,2),i=c[0],r=c[1],l=Object(s.g)(),j=Object(s.f)(),d=function(){return r(null)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(R.a,{position:"fixed",children:Object(F.jsxs)(U.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(H.a,{variant:"h6",component:"label",className:t.title,children:Object(F.jsx)(o.b,{className:t.link,to:"/",children:Object(F.jsx)(J.a,{src:_,alt:"Todo App"})})}),Object(F.jsx)(H.a,{variant:"h6",component:"label",children:(null===(e=j.state)||void 0===e?void 0:e.pageName)||"Lists"}),Object(F.jsxs)("div",{children:[Object(F.jsx)(P.a,{onClick:function(e){return r(e.currentTarget)},color:"inherit",children:Object(F.jsx)(K.a,{})}),Object(F.jsxs)(W.a,{anchorEl:i,open:Boolean(i),onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(F.jsxs)($.a,{onClick:function(){d(),l("/configuration",{state:{pageName:"Configuration"}})},children:[Object(F.jsx)(G.a,{children:Object(F.jsx)(Z.a,{color:"inherit"})}),"Configuration"]}),Object(F.jsxs)($.a,{onClick:function(){d(),l("/about",{state:{pageName:"About"}})},children:[Object(F.jsx)(G.a,{children:Object(F.jsx)(V.a,{color:"inherit"})}),"About"]})]})]})]})}),Object(F.jsx)(U.a,{})]})},ne=n(261),ae=n.n(ne),ce=n(262),ie=n.n(ce),re=n(263),oe=n.n(re),se=function(){var e=Object(s.h)(),t=Object(s.g)(),n=Object(s.f)().state,c=Object(a.useState)(null),i=Object(B.a)(c,2),r=i[0],o=i[1],l=function(){return o(null)};return console.log("@@ Todos nav render"),console.log(n),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(R.a,{position:"fixed",children:Object(F.jsxs)(U.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(P.a,{onClick:function(){t(-1)},color:"inherit",children:Object(F.jsx)(ae.a,{})}),Object(F.jsx)(H.a,{variant:"h6",component:"label",children:(null===n||void 0===n?void 0:n.name)||"Task"}),Object(F.jsxs)("div",{children:[Object(F.jsx)(P.a,{onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object(F.jsx)(K.a,{})}),Object(F.jsxs)(W.a,{anchorEl:r,open:Boolean(r),onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(F.jsxs)($.a,{onClick:function(){l(),alert("Edit List ".concat(e.listId))},children:[Object(F.jsx)(G.a,{children:Object(F.jsx)(ie.a,{})}),"Edit"]}),Object(F.jsxs)($.a,{onClick:function(){l(),alert("Delete List ".concat(e.listId))},children:[Object(F.jsx)(G.a,{children:Object(F.jsx)(oe.a,{})}),"Delete"]})]})]})]})}),Object(F.jsx)(U.a,{})]})},le=function(){var e=Object(s.f)().pathname.includes("/list/");return console.log("@@ App render"),Object(F.jsxs)(F.Fragment,{children:[e?Object(F.jsx)(se,{}):Object(F.jsx)(te,{}),Object(F.jsx)(s.a,{})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},de=n(360),ue=n(371),be=n(373),he=n(266),Oe=n.n(he),ge=n(372),pe=n(264),fe=n.n(pe),xe=n(265),me=n.n(xe),ve=function(e){var t=e.id,n=e.name,c=e.todos,i=Object(s.g)(),r=Object(a.useMemo)((function(){var e=c.filter((function(e){return e.isDone})).length;return{length:e,percentage:100*e/c.length}}),[c]);return Object(F.jsxs)(ue.a,{onClick:function(){i("/list/".concat(t),{state:{id:t,name:n,todos:c}})},bgcolor:"lightskyblue",minWidth:110,minHeight:140,maxWidth:180,maxHeight:220,borderRadius:3,padding:1,display:"flex",flexDirection:"column",justifyContent:"space-between",children:[Object(F.jsx)(ue.a,{alignSelf:"flex-end",children:r.length===c.length&&c.length>0?Object(F.jsx)(fe.a,{color:"success"}):Object(F.jsx)(me.a,{color:"disabled"})}),Object(F.jsx)(H.a,{fontSize:12,children:null===n||void 0===n?void 0:n.toUpperCase()}),Object(F.jsxs)(ue.a,{children:[Object(F.jsxs)(H.a,{fontSize:12,marginBottom:1,children:["Finished ",r.length," of ",c.length]}),Object(F.jsx)(ge.a,{variant:"determinate",value:r.percentage||0})]})]})},ye=Object(Y.a)((function(e){return{fab:{position:"fixed",top:e.spacing(6),right:e.spacing(1)}}})),Ce=function(){var e=ye(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.lists}));Object(a.useEffect)((function(){t(m({page:1,pageSize:20}))}),[t]);return console.log("@@ Lists page render"),Object(F.jsxs)(ue.a,{children:[n.loading&&"LOADING...",Object(F.jsx)(de.a,{container:!0,spacing:1,padding:1,children:function(){var e;return null===(e=n.items)||void 0===e?void 0:e.map((function(e){return Object(F.jsx)(de.a,{container:!0,item:!0,xs:6,sm:4,md:3,lg:2,justifyContent:"center",children:Object(F.jsx)(ve,{name:e.name,id:e.id,todos:e.todos})},e.id)}))}()}),Object(F.jsx)(ue.a,{display:"flex",justifyContent:"flex-end",children:Object(F.jsx)(be.a,{onClick:function(){console.log("Handle modal open")},color:"primary",className:e.fab,children:Object(F.jsx)(Oe.a,{})})})]})},ke=function(){var e=Object(s.h)();return console.log("@@ Todos page render"),Object(F.jsx)(de.a,{children:Object(F.jsxs)(H.a,{variant:"h4",component:"h2",children:["Todos from list ",e.listId]})})},Te=function(){return Object(F.jsxs)("article",{children:[Object(F.jsx)("h2",{children:"Section not found 404"}),Object(F.jsx)("p",{children:"This page does not exist"})]})},Ie=function(){return Object(F.jsx)(ue.a,{children:"Made with \u2764\ufe0f"})},Se=n(54),De=n(361),Le=n(374),we=n(346),Ee=n(375),ze=n(376),Ae=n(377),Fe=n(354),Me=n(380),Ne=n(356),Be=n(381),Re=n(345),Ue=n(349),He=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.configuration})),n=t.themes,c=t.languages,i=t.theme,r=t.language,o=Object(a.useState)(!1),s=Object(B.a)(o,2),j=s[0],u=s[1],b=Object(a.useState)({theme:i,language:r,isDarkMode:"dark"===i.palette.type}),h=Object(B.a)(b,2),O=h[0],g=h[1];Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){console.log("$$ effect by changing inputs"),e(y(O))}),[e,O]);var p=function(){return u(!1)},f=function(e,t){var n=e.target,a=t.items.find((function(e){return e.id===n.value}));g(Object(Se.a)(Object(Se.a)({},O),{},Object(d.a)({},n.name,a)))};return console.log("@@ Config page render"),Object(F.jsxs)(ue.a,{p:1,children:[Object(F.jsx)(ue.a,{display:"flex",justifyContent:"flex-end",children:Object(F.jsx)(De.a,{size:"small",variant:"contained",startIcon:Object(F.jsx)(Re.a,{}),onClick:function(){return u(!0)},children:"Change"})}),Object(F.jsxs)(ue.a,{display:"flex",flexDirection:"column",children:[Object(F.jsx)(H.a,{component:"h2",variant:"h6",children:"You can change the theme and app language here"}),Object(F.jsxs)(H.a,{component:"label",variant:"label",children:["Theme: ",O.theme.name]}),Object(F.jsxs)(H.a,{component:"label",variant:"label",children:["Language: ",O.language.name]})]}),Object(F.jsxs)(Le.a,{open:j,maxWidth:"xs",children:[Object(F.jsx)(we.a,{children:"Update Settings"}),Object(F.jsx)(Ee.a,{dividers:!0,children:Object(F.jsxs)(ue.a,{display:"flex",flexDirection:"column",children:[Object(F.jsxs)(ze.a,{margin:"dense",children:[Object(F.jsx)(Ae.a,{id:"languageId",children:"Language"}),Object(F.jsx)(Fe.a,{labelId:"languageId",label:"Language",name:"language",value:O.language.id,onChange:function(e){return f(e,c)},children:c.items.map((function(e){return Object(F.jsx)($.a,{value:e.id,children:e.name},e.id)}))})]}),Object(F.jsxs)(ze.a,{margin:"dense",children:[Object(F.jsx)(Ae.a,{id:"themeId",children:"Theme"}),Object(F.jsx)(Fe.a,{labelId:"themeId",label:"Theme",name:"theme",value:O.theme.id,onChange:function(e){return f(e,n)},children:n.items.map((function(e){return Object(F.jsx)($.a,{value:e.id,children:e.name},e.id)}))})]}),Object(F.jsxs)(ue.a,{display:"flex",alignItems:"center",children:[Object(F.jsx)(Me.a,{label:"Dark mode",control:Object(F.jsx)(Ne.a,{checked:O.isDarkMode,onChange:function(e){var t=e.target;return g(Object(Se.a)(Object(Se.a)({},O),{},{isDarkMode:t.checked}))}})}),O.isDarkMode&&Object(F.jsx)(Ue.a,{color:"primary"})||Object(F.jsx)(Ue.a,{color:"disabled"})]})]})}),Object(F.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(De.a,{color:"secondary",variant:"text",onClick:p,children:"Cancel"}),Object(F.jsx)(De.a,{color:"primary",variant:"contained",onClick:function(){return p()},children:"Ok"})]})]})]})};r.a.render(Object(F.jsx)(l.a,{store:E,children:Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsxs)(M,{children:[Object(F.jsx)(N.a,{}),Object(F.jsx)(o.a,{children:Object(F.jsxs)(s.d,{children:[Object(F.jsxs)(s.b,{path:"/",element:Object(F.jsx)(le,{}),children:[Object(F.jsx)(s.b,{index:!0,element:Object(F.jsx)(Ce,{})}),Object(F.jsx)(s.b,{path:"list/:listId",element:Object(F.jsx)(ke,{})}),Object(F.jsx)(s.b,{path:"about",element:Object(F.jsx)(Ie,{})}),Object(F.jsx)(s.b,{path:"configuration",element:Object(F.jsx)(He,{})})]}),Object(F.jsx)(s.b,{path:"*",element:Object(F.jsx)(Te,{})})]})})]})})}),document.getElementById("root")),je()}},[[311,1,2]]]);
//# sourceMappingURL=main.d4b67cc4.chunk.js.map